<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
<!-- OneTrust Cookies Consent Notice start for xilinx.github.io -->

<script src="https://cdn.cookielaw.org/scripttemplates/otSDKStub.js" data-document-language="true" type="text/javascript" charset="UTF-8" data-domain-script="03af8d57-0a04-47a6-8f10-322fa00d8fc7" ></script>
<script type="text/javascript">
function OptanonWrapper() { }
</script>
<!-- OneTrust Cookies Consent Notice end for xilinx.github.io -->
<!-- Google Tag Manager -->
<script type="text/plain" class="optanon-category-C0002">(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-5RHQV7');</script>
<!-- End Google Tag Manager -->
  <title>Design Overview &mdash; Kria™ KV260 2022.1 documentation</title>
      <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/_static/custom.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/underscore.js"></script>
        <script src="../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../../_static/doctools.js"></script>
    <script src="../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Setting up the Board and Application Deployment" href="app_deployment.html" />
    <link rel="prev" title="Smart Camera" href="../smartcamera_landing.html" /> 
</head>

<body class="wy-body-for-nav">

<!-- Google Tag Manager -->
<noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5RHQV7" height="0" width="0" style="display:none;visibility:hidden" class="optanon-category-C0002"></iframe></noscript>
<!-- End Google Tag Manager --> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
            <a href="../../../index.html" class="icon icon-home"> Kria™ KV260
            <img src="../../../_static/xilinx-header-logo.svg" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                2022.1
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">SOM</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://xilinx.github.io/kria-apps-docs/">Landing Page</a></li>
<li class="toctree-l1"><a class="reference external" href="https://xilinx.github.io/kria-apps-docs/creating_applications.html">Application Development</a></li>
<li class="toctree-l1"><a class="reference external" href="https://xilinx.github.io/kria-apps-docs/bootfw.html">Boot Firmware</a></li>
<li class="toctree-l1"><a class="reference external" href="https://xilinx.github.io/kria-apps-docs/ubuntu_support.html">Ubuntu Support</a></li>
<li class="toctree-l1"><a class="reference external" href="https://xilinx.github.io/kria-apps-docs/dfx.html">Dynamic Function eXchange</a></li>
<li class="toctree-l1"><a class="reference external" href="https://xilinx.github.io/kria-apps-docs/openamp.html">OpenAMP</a></li>
<li class="toctree-l1"><a class="reference external" href="https://xilinx.github.io/kria-apps-docs/ipmi_eeprom.html">IPMI EEPROM Area Record</a></li>
<li class="toctree-l1"><a class="reference external" href="https://xilinx.github.io/kria-apps-docs/yocto.html">Yocto Support</a></li>
<li class="toctree-l1"><a class="reference external" href="https://xilinx.github.io/kria-apps-docs/faq.html">Frequently Asked Questions</a></li>
<li class="toctree-l1"><a class="reference external" href="https://xilinx.github.io/kria-apps-docs/kv260-docs.html">Kria KV260</a></li>
<li class="toctree-l1"><a class="reference external" href="https://xilinx.github.io/kria-apps-docs/kr260-docs.html">Kria KR260</a></li>
<li class="toctree-l1"><a class="reference external" href="https://xilinx.github.io/KRS/">Kria Robotics Stack</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">KV260 Applications</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../smartcamera_landing.html">Smart Camera</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../smartcamera_landing.html#overview">Overview</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">Introduction</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#introduction">Introduction</a></li>
<li class="toctree-l4"><a class="reference internal" href="#design-components">Design Components</a></li>
<li class="toctree-l4"><a class="reference internal" href="#next-steps">Next Steps</a></li>
<li class="toctree-l4"><a class="reference internal" href="#references">References</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../smartcamera_landing.html#features">Features</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../smartcamera_landing.html#quick-start">Quick Start</a></li>
<li class="toctree-l2"><a class="reference internal" href="../smartcamera_landing.html#tutorials">Tutorials</a></li>
<li class="toctree-l2"><a class="reference internal" href="../smartcamera_landing.html#architecture">Architecture</a></li>
<li class="toctree-l2"><a class="reference internal" href="../smartcamera_landing.html#other">Other</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../aibox-reid/aibox_landing.html">AI Box ReID</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../defect-detect/defectdetect_landing.html">Defect Detect</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../nlp-smartvision/nlp_smartvision_landing.html">NLP SmartVision</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../aibox/aibox-dist_landing.html">AI Box Distributed ReID</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Other Releases</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://xilinx.github.io/kria-apps-docs/kv260/2021.1/build/html/index.html">2021.1</a></li>
<li class="toctree-l1"><a class="reference external" href="https://xilinx.github.io/kria-apps-docs/kv260/2020.2/build/html/index.html">2020.2</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: black" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">Kria™ KV260</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../smartcamera_landing.html">Smart Camera</a> &raquo;</li>
      <li>Design Overview</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../_sources/docs/smartcamera/docs/introduction.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <table class="sphinxhide">
 <tr>
   <td align="center"><img src="../../media/xilinx-logo.png" width="30%"/><h1> Kria&trade; KV260 Vision AI Starter Kit Smart Camera Tutorial</h1>
   </td>
 </tr>
 <tr>
 <td align="center"><h1> Design Overview </h1> </td>
 </tr>
</table><div class="section" id="design-overview">
<h1>Design Overview<a class="headerlink" href="#design-overview" title="Permalink to this heading">¶</a></h1>
<div class="section" id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this heading">¶</a></h2>
<p>The Smart Camera application design built on KV260 Vision AI Starter Kit provides a framework for building and customizing video platforms that consist of four pipeline stages:</p>
<ul class="simple">
<li><p>Capture pipeline</p></li>
<li><p>Video processing pipeline</p></li>
<li><p>Acceleration pipeline</p></li>
<li><p>Output pipeline</p></li>
</ul>
<p>The design has a platform and integrated accelerator functions. The platform consists of Capture pipeline, Output pipeline and some video processing functions. This approach makes the design leaner and provides maximum programmable logic (PL) for the accelerator development. The platform supports capture from MIPI single sensor device, a USB webcam and a file source. The output can be stored as files, passed forward via ethernet using the Real Time transport protocol (RTP) or displayed on DisplayPort/HDMI monitor. Along with video the platform also supports audio capture and playback.</p>
<p>Some video processing functions are performed on hard blocks like the Video Codec Unit (VCU) since it is most performant to do so. Video decoding/decompression and encoding/compression is done using the VCU.</p>
<p>The following example acceleration functions can be run on this platform using programmable deep learning processor units (DPU)</p>
<ul class="simple">
<li><p>Face Detection  - Network model: Densebox_640_360</p></li>
<li><p>Cars, Bicycles, and Person Detection for ADAS -  Network model: ssd_adas_pruned_0_95</p></li>
<li><p>Pedestrian Detection - Network model: refinedet_pruned_0_96</p></li>
</ul>
<p>An example usecase for this design is as an endpoint security camera.</p>
<p>The following figure shows the various pipelines supported by the design.</p>
<p><img alt="Pipelines Supported" src="../../../_images/pipelines2.png" /></p>
<p>The application processing unit (APU) in the Processing Sytem (PS) consists of four Arm® Cortex®-A53 cores and is configured to run in symmetric multi-processing (SMP) Linux mode in the  design. The application running on Linux is responsible for configuring and controlling the audio/video pipelines and accelerators using Jupyter notebooks or the smartcam application.</p>
<p>The APU application controls the following video data paths implemented in a combination of the PS and PL:</p>
<ul class="simple">
<li><p>Capture pipeline capturing video frames into DDR memory from</p>
<ul>
<li><p>A file on a storage device such as an SD card</p></li>
<li><p>A USB webcam using the USB interface inside the PS</p></li>
<li><p>An image sensor connected via MIPI CSI-2 RX through the PL</p></li>
</ul>
</li>
<li><p>I2S Rx subsystem via Digilent PMOD I2S2 captures audio along with video.</p></li>
<li><p>Memory-to-memory (M2M) pipeline implementing a neural net Inference Application. In this design the neural net is implemented in DPU, preprocessed video frames are read from DDR memory, processed by the DPU, and then written back to memory.</p></li>
<li><p>An output pipeline reads video frames from memory and sends the frames to a sink.</p>
<ul>
<li><p>In this case the sink is a display or VCU encoded stream through Ethernet.</p></li>
<li><p>In the display pipeline sink is a monitor, DP controller subsystem in the PS is coupled to STDP4320 De-multiplexer on the carrier card. STDP4320 consists of dual mode output ports configured as DP and HDMI.</p></li>
</ul>
</li>
<li><p>Along with video, the I2S TX subsystem via Digilent PMOD I2S2 forwards audio data to a speaker.</p></li>
</ul>
<p>The following figure shows an example end-to-end pipeline which could be a single image sensor as the video source, Pre-process and DPU IPs for application NN Inference. The inferred frames are either VCU encoded and streamed via RTP network protocol for delivering audio and video over IP networks or the video frames are displayed via DP splitter onto a DP and HDMI port for display, as the video sink. The figure also shows the image processing blocks used in the capture path. The video format in the figure is the output format on each block. Details are described in the <a class="reference internal" href="hw_arch_platform.html"><span class="doc">Hardware Architecture document</span></a>.</p>
<p><img alt="End to end example pipelines" src="../../../_images/end_to_end_pp1.png" /></p>
</div>
<div class="section" id="design-components">
<h2>Design Components<a class="headerlink" href="#design-components" title="Permalink to this heading">¶</a></h2>
<details>
 <summary><b>Hardware components</b></summary><ul class="simple">
<li><p>KV260 Vision AI Starter Kit including</p>
<ul>
<li><p>On Semi AP1302 Image Signal Processor (https://www.onsemi.com/products/sensors/image-sensors-processors/image-processors/ap1302) on the carrier card</p></li>
<li><p>HDMI-DP splitter on the carrier card</p></li>
<li><p>On Semi AR1335 CMOS Image sensor (https://www.onsemi.com/products/sensors/image-sensors-processors/image-sensors/ar1335)</p></li>
<li><p>Digilent’s Pmod™ I2S2 Stereo Audio Input and Output (https://store.digilentinc.com/pmod-i2s2-stereo-audio-input-and-output/)</p></li>
</ul>
</li>
</ul>
</details><details>
 <summary><b>Interfaces and IP</b></summary><ul class="simple">
<li><p>Video inputs</p>
<ul>
<li><p>File</p></li>
<li><p>USB webcam</p></li>
<li><p>MIPI CSI-2 Rx</p></li>
</ul>
</li>
<li><p>Video outputs</p>
<ul>
<li><p>DisplayPort/ HDMI</p></li>
<li><p>File</p></li>
<li><p>Ethernet - Jupyter notebook/RTSP</p></li>
</ul>
</li>
<li><p>Audio inputs</p>
<ul>
<li><p>I2S receiver</p></li>
</ul>
</li>
<li><p>Audio outputs</p>
<ul>
<li><p>I2S transmitter</p></li>
</ul>
</li>
<li><p>Video processing</p>
<ul>
<li><p>VCU decoding and encoding</p></li>
<li><p>Accelerator functions on DPU</p></li>
<li><p>PL and PS based pre and post processing specific to a accelerator function</p></li>
</ul>
</li>
<li><p>Auxiliary Peripherals</p>
<ul>
<li><p>QSPI</p></li>
<li><p>SD</p></li>
<li><p>I2C</p></li>
<li><p>UART</p></li>
<li><p>Ethernet</p></li>
<li><p>General purpose I/O (GPIO)</p></li>
</ul>
</li>
</ul>
</details><details>
 <summary><b>Software components</b></summary><ul class="simple">
<li><p>Operating system</p>
<ul>
<li><p>APU: SMP Linux</p></li>
</ul>
</li>
<li><p>Linux kernel subsystems</p>
<ul>
<li><p>Video source: Video4 Linux (V4L2)</p></li>
<li><p>Display: Direct Rendering Manager (DRM)/Kernel Mode Setting (KMS)</p></li>
</ul>
</li>
<li><p>Linux user space frameworks</p>
<ul>
<li><p>Jupyter</p></li>
<li><p>GStreamer / Xilinx VVAS</p></li>
<li><p>Vitis AI</p></li>
<li><p>Xilinx run-time (XRT)</p></li>
</ul>
</li>
</ul>
 </details> <details>
 <summary><b>Resolution and Format Supported</b></summary><ul class="simple">
<li><p>Resolutions</p>
<ul>
<li><p>1080p30</p></li>
<li><p>2160p30</p></li>
<li><p>Lower resolution and lower frame rates for USB and file I/O</p></li>
</ul>
</li>
<li><p>Pixel format</p>
<ul>
<li><p>YUV 4:2:0 (NV12)</p></li>
</ul>
</li>
</ul>
 </details>
&nbsp;</div>
<div class="section" id="next-steps">
<h2>Next Steps<a class="headerlink" href="#next-steps" title="Permalink to this heading">¶</a></h2>
<ul class="simple">
<li><p><a class="reference internal" href="app_deployment.html"><span class="doc">Setting up the Board and Application Deployment</span></a></p></li>
<li><p>Go back to the <a class="reference internal" href="../smartcamera_landing.html"><span class="doc">KV260 SOM Smart camera design start page</span></a></p></li>
</ul>
</div>
<div class="section" id="references">
<h2>References<a class="headerlink" href="#references" title="Permalink to this heading">¶</a></h2>
<ul class="simple">
<li><p>Kria KV260 Vision AI Starter Kit User Guide (<a class="reference external" href="https://www.xilinx.com/cgi-bin/docs/rdoc?t=som-doc%3Bv=latest%3Bd=ug1089-kv260-starter-kit.pdf">UG1089</a>)</p></li>
<li><p>Kria SOM Carrier Card Design Guide (<a class="reference external" href="https://www.xilinx.com/cgi-bin/docs/rdoc?t=som-doc%3Bd=ug1091-carrier-card-design.pdf">UG1091</a>)</p></li>
<li><p>Kria KV260 Vision AI Starter Kit Data Sheet(<a class="reference external" href="https://www.xilinx.com/cgi-bin/docs/ndoc?t=data_sheets%3Bd=ds986-kv260-starter-kit.pdf">DS986</a>)</p></li>
<li><p>Kria K26 SOM Data Sheet(<a class="reference external" href="https://www.xilinx.com/cgi-bin/docs/ndoc?t=data_sheets%3Bd=ds987-k26-som.pdf">DS987</a>)</p></li>
</ul>
<div class="section" id="license">
<h3>License<a class="headerlink" href="#license" title="Permalink to this heading">¶</a></h3>
<p>Licensed under the Apache License, Version 2.0 (the “License”); you may not use this file except in compliance with the License.</p>
<p>You may obtain a copy of the License at
<a class="reference external" href="http://www.apache.org/licenses/LICENSE-2.0">http://www.apache.org/licenses/LICENSE-2.0</a></p>
<p>Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an “AS IS” BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.</p>
<p align="center">Copyright&copy; 2022 Xilinx</p></div>
</div>
</div>


           </div>
          </div>
          
                  <style>
                        .footer {
                        position: fixed;
                        left: 0;
                        bottom: 0;
                        width: 100%;
                        }
                  </style>
				  
				  <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../smartcamera_landing.html" class="btn btn-neutral float-left" title="Smart Camera" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="app_deployment.html" class="btn btn-neutral float-right" title="Setting up the Board and Application Deployment" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021-2023, Advanced Micro Devices, Inc.
      <span class="lastupdated">Last updated on May 4, 2023.
      </span></p>
  </div>



										<div class="aem-Grid aem-Grid--16">
											<div class="aem-GridColumn aem-GridColumn--xxxlarge--none aem-GridColumn--xsmall--16 aem-GridColumn--offset--xsmall--0 aem-GridColumn--xlarge--none aem-GridColumn--xxlarge--none aem-GridColumn--default--none aem-GridColumn--offset--large--1 aem-GridColumn--xlarge--12 aem-GridColumn--offset--default--0 aem-GridColumn--xxlarge--10 aem-GridColumn--offset--xlarge--2 aem-GridColumn--offset--xxlarge--3 aem-GridColumn--offset--xxxlarge--4 aem-GridColumn--xsmall--none aem-GridColumn--large--none aem-GridColumn aem-GridColumn--large--14 aem-GridColumn--xxxlarge--8 aem-GridColumn--default--16">
												<div class="container-fluid sub-footer">

													                    <div class="row">
                        <div class="col-xs-24">
                          <p><a target="_blank" href="https://www.amd.com/en/corporate/copyright">Terms and Conditions</a> | <a target="_blank" href="https://www.amd.com/en/corporate/privacy">Privacy</a> | <a target="_blank" href="https://www.amd.com/en/corporate/cookies">Cookie Policy</a> | <a target="_blank" href="https://www.amd.com/en/corporate/trademarks">Trademarks</a> | <a target="_blank" href="https://www.amd.com/system/files/documents/statement-human-trafficking-forced-labor.pdf">Statement on Forced Labor</a> | <a target="_blank" href="https://www.amd.com/en/corporate/competition">Fair and Open Competition</a> | <a target="_blank" href="https://www.amd.com/system/files/documents/amd-uk-tax-strategy.pdf">UK Tax Strategy</a> | <a target="_blank" href="https://docs.xilinx.com/v/u/9x6YvZKuWyhJId7y7RQQKA">Inclusive Terminology</a> | <a href="#cookiessettings" class="ot-sdk-show-settings">Cookies Settings</a></p>
                        </div>
                    </div>
												</div>
											</div>
										</div>
										
</br>


  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
 <script type="text/javascript">
    $(document).ready(function() {
        $(".toggle > *").hide();
        $(".toggle .header").show();
        $(".toggle .header").click(function() {
            $(this).parent().children().not(".header").toggle(400);
            $(this).parent().children(".header").toggleClass("open");
        })
    });
</script>


</body>
</html>