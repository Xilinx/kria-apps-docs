<table class="sphinxhide">
 <tr>
   <td align="center"><img src="../../media/xilinx-logo.png" width="30%"/><h1> Kria&trade; KV260 Vision AI Starter Kit NLP SmartVision Tutorial</h1>
   </td>
 </tr>
 <tr>
 <td align="center"><h1> Software Architecture of the Accelerator </h1>

 </td>
 </tr>
</table>

# Software Architecture of the Accelerator

## Introduction

 This document describes the software architecture of the NLP SmartVision accelerator application.

## Software Platform and Dependencies

We leverage the OpenCV multi-media orchestration platform for application software development. cv::VideoCapture is used to read from Video capture pipeline. the captured buffer is sent to DPU after the CPU preprocssing. The DPU returns meta data and CPU handels postprocessing to render the output buffer. cv::VideoWrite sends the buffer to KMS Sink to display it on the DP/HDMI monitor.

ARM CMSIS for implementing Keyword spotting.

**Vitis AI 1.3.0** is the core underlying component to access the AI inference capability provides by Xilinx DPU.

## Video Pipeline

<figure class="image">
  <img src="../../media/nlp_smartvision/software-overall-data-flow.png" width="1000" height="333">
  <figcaption>Overall video data flow</figcaption>
</figure>

NLP SmartVision Accelerated Application supports live audio, video inputs from USB Microphone and MIPI respectively.

MIPI source will output the frames with NV12 format which in turn are processed to BGR frames by VPSS.

<figure class="image">
  <img src="../../media/nlp_smartvision/gstreamer-pipeline.png"">
  <figcaption>Gstreamer pipeline of the application</figcaption>
</figure>

Three AI tasks are supported: Facedetect, Objectdetect, Platedetect.

## Additional GStreamer component used

## Next Steps

* Go back to the [KV260 SOM NLP SmartVision design start page](../nlp_smartvision_landing)

## References

### License

Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance with the License.

You may obtain a copy of the License at
[http://www.apache.org/licenses/LICENSE-2.0](http://www.apache.org/licenses/LICENSE-2.0)

Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.

<p align="center">Copyright&copy; 2021 Xilinx</p>
