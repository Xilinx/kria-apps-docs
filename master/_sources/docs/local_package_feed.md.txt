<table class="sphinxhide">
 <tr>
   <td align="center"><img src="media/xilinx-logo.png" width="30%"/><h1> Kria&trade;KV260 Vision AI Starter Kit  Tutorial</h1>
   </td>
 </tr>
 <tr>
 <td align="center"><h1>Using a local package feed</h1>

 </td>
 </tr>
</table>

# Instructions
This document will show how to use a local package feed in cases where internet access is not available.

* Download the package feed (entire rpm/ directory) from [RPM webpage](http://petalinux.xilinx.com/sswreleases/rel-v2020.2.2/generic/rpm) to your PC. Updates to the feed will be populated under [RPM Updates webpage](http://petalinux.xilinx.com/sswreleases/rel-v2020.2.2/generic-updates/rpm))


* Copy the files from the PC to a USB drive. Use an ext4 formatted USB drive, not FAT to accommodate the large number of files. 

* Plug the USB drive into booted SOM system. It will auto-mount. In the example below, USB is mounted on */run/media/sda1* and the feed is under *rpm/*

	```
	xilinx-k26-starterkit-2020_2:~# ls /run/media/sda1/rpm 
	aarch64 k26 k26_kv noarch repodata zynqmp zynqmp_generic
	``` 

* Create/update the .repo file under /etc/yum.repos.d to point to your local feed. The name of the .repo file does not matter. Example repo file is shown below.

	```
	[noarch]
	name=noarch
	baseurl=/run/media/sda1/rpm/noarch
	gpgcheck=0
	
	[aarch64]
	name=aarch64
	baseurl=/run/media/sda1/rpm/aarch64
	gpgcheck=0
	
	[k26]
	name=k26
	baseurl=/run/media/sda1/rpm/k26
	gpgcheck=0
	
	[k26_kv]
	name=k26_kv
	baseurl=/run/media/sda1/rpm/k26_kv
	gpgcheck=0
	
	[zynqmp]
	name=zynqmp
	baseurl=/run/media/sda1/rpm/zynqmp
	gpgcheck=0
	
	[zynqmp_generic]
	name=zynqmp_generic
	baseurl=/run/media/sda1/rpm/zynqmp_generic
	gpgcheck=0
	```
* Clean dnf files
	
	```
    xilinx-k26-starterkit-2020_2:~# sudo dnf clean all
	```

* Query the local feed
    
	```
	xilinx-k26-starterkit-2020_2:~# sudo dnf repoquery
	```
## License

Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance with the License.

You may obtain a copy of the License at
[http://www.apache.org/licenses/LICENSE-2.0](http://www.apache.org/licenses/LICENSE-2.0)

Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.

<p class="sphinxhide" align="center">Copyright&copy; 2021 Xilinx</p>
